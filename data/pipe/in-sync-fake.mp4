DST=~/webcast/test1
CAM=${DST}/camera.mp4
SLD=${DST}/slides.mp4

rm -f $SLD $CAM
mkdir -p $DST

gst-launch-1.0 -e \
    videotestsrc pattern=0 \
        ! "video/x-raw, width=(int)320, height=(int)240, format=(string)I420, framerate=(fraction)30/1" \
        ! x264enc speed-preset=fast \
        ! mp4mux name=mux_cam \
        ! filesink location="${CAM}" \
    videotestsrc pattern=1 \
        ! "video/x-raw, width=(int)320, height=(int)240, format=(string)I420, framerate=(fraction)30/1" \
        ! x264enc speed-preset=fast \
        ! mp4mux name=mux_sld \
        ! filesink location="${SLD}" \
    audiotestsrc \
        ! audioconvert \
        ! audio/x-raw, rate=44100, channels=2 \
        ! lamemp3enc \
        ! queue \
        ! mux_cam.
